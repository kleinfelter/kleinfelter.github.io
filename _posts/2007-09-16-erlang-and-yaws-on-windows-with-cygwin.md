---
excerpt: "<p>Most instructions on the net seem to assume that you are using the Windows
  binary of Erlang.  I didn&#39;t go that route, because dealing with the mix of Windows
  paths and UNIX paths just bums me out. Everything below is done via a Cygwin bash
  prompt.</p>"
categories: []
layout: post
title: Erlang and Yaws on Windows With Cygwin
created: 1189990880
---
<p>Most instructions on the net seem to assume that you are using the Windows binary of Erlang.  I didn&#39;t go that route, because dealing with the mix of Windows paths and UNIX paths just bums me out. Everything below is done via a Cygwin bash prompt.</p><ul><li>wget the Erlang source and tar -zxvf the tarball<br /></li><li>cd to the source directory</li><li>./configure --prefix=/usr</li><li>make</li><li>make install</li><li>Smoke test erl (I just did help(). and q().)</li><li>mkdir /var/yaws<br /></li><li>wget the Yaws source and tar -zxvf the tarball</li><li>cd to the source directory</li><li>./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc</li><li>make</li><li>DESTDIR=/. make install</li><li>&quot;yaws -i&quot; crashes.  Oops!</li><li>Edit /etc/yaws.conf. Comment out localhost and SSL entries; set the remaining http server to use port 8000 instead of80</li><li>Still crashes.  Bummer!</li></ul><p>Rollback -- try again after deleting all YAWS and Erlang from Cygwin</p><ul><li>Download WINDOWS Erlang (R11B), and install to K:\erlang</li><li>Add K:\erlang\bin to PATH</li><li>Open a cygwin bash prompt, and <br /><ul><li>smoke test erl (I just issued &quot;q().&quot;)</li><li>tar -zxvf yaws-1.71.tar.gz</li><li>cd yaw*</li><li>./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc</li><li>make</li><li>DESTDIR=/.   make install</li><li>edit /etc/yaws.conf and <br /><ul><li>comment out the SSL server and the localhost server; <br /></li><li>change the port on the remaining server to 8000; <br /></li><li>prepend &quot;L:/cygwin&quot; to all paths</li><li>Remove &quot;/usr&quot; from the first ebin_dir and include_dir<br /> </li></ul></li></ul></li><li>&quot;yaws -i&quot; still crashes.</li><li>Try &quot;make local_install&quot;</li><li>Edit~/yaws.conf and replace all &quot;/cygdrive/k&quot; with &quot;k:&quot;</li><li>&quot;bin/yaws -i&quot; still crashes.  I give up. I&#39;ll install it all under Ubuntu in a VMware virtual machine.<br /></li><li>Wait! I found a pointer. Trying the following command line from a Windows command prompt appears to start YAWS successfully! <ul><li>erl -pa L:\cygwin\lib\yaws\ebin -yaws debug -run yaws -conf L:\cygwin\etc\yaws.conf -yaws id default</li></ul></li><li>Ahhh! Now I see the problem in bin/yaws -- the final line does an eval, and the eval consumes the backslashes.  My solution is, near the top, to change the case statement to look like this:</li></ul><br /><table border="0"><tbody><tr><td> <pre>case `uname` in</pre><pre>     CYGWIN*)</pre><pre>         yawsdir=&quot;L:\\\\cygwin\\\\lib\\\\yaws\\\\&quot;</pre><pre>         werl=&quot;/cygdrive/k/erlang/bin/werl&quot;</pre><pre>         delim=\\;;</pre><pre>     *)</pre><pre>         delim=/</pre><pre>esac   </pre><p>&nbsp;</p></td></tr></tbody></table><p><br />So my final bash command-line looks like this:</p><p>yaws -i --conf L:\\\\cygwin\\\\etc\\\\yaws.conf </p>
